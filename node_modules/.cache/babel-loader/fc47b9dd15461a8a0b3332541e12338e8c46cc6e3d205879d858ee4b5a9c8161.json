{"ast":null,"code":"var _jsxFileName = \"/Users/huiyingzhen/Desktop/ENSF 381/assignment-06-lotion-huiyingzhen/src/Edit.js\";\nimport { useEffect, useState } from \"react\";\nimport { useOutletContext, useParams } from \"react-router-dom\";\nimport DateTimeP from 'react-datetime-picker';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Edit() {\n  var _s = $RefreshSig$();\n  function Edit() {\n    _s();\n    const [onDeleteNote, getActiveNote, notes] = useOutletContext();\n    const {\n      id\n    } = useParams();\n    const [note, setNote] = useState(notes.find(note => note.id === id));\n    const [editMode, setEditMode] = useState(true);\n    useEffect(() => {\n      const notes = JSON.parse(localStorage.getItem(\"notes\")) || [];\n      const index = notes.findIndex(n => n.id === id);\n      if (index >= 0) {\n        setNote(notes[index]);\n      }\n    }, [id]);\n    const handleContentChange = content => {\n      setNote({\n        ...note,\n        content,\n        lastModified: new Date().toLocaleString()\n      });\n    };\n    const handleSave = () => {\n      const notes = JSON.parse(localStorage.getItem(\"notes\")) || [];\n      const index = notes.findIndex(n => n.id === note.id);\n      if (index >= 0) {\n        notes[index] = note;\n      } else {\n        notes.push(note);\n      }\n      localStorage.setItem(\"notes\", JSON.stringify(notes));\n      setEditMode(true); // set editMode back to true after saving\n    };\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-notes\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-left\",\n            children: editMode ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"header-title\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: note.title,\n                  onChange: handleTitleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(DateTimeP, {\n                  value: new Date(),\n                  onChange: () => {}\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 53,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"header-title\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: note.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: new Date().toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-right\",\n            children: editMode ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"header-buttons\",\n                onClick: handleSave,\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"header-buttons\",\n                onClick: () => onDeleteNote(window.location.pathname.split('/')[2]),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"header-buttons\",\n                onClick: () => setEditMode(false),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"header-buttons\",\n                onClick: () => onDeleteNote(window.location.pathname.split('/')[2]),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }, this), editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-quill\",\n          children: /*#__PURE__*/_jsxDEV(ReactQuill, {\n            theme: \"snow\",\n            value: note.content,\n            onChange: handleContentChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-quill\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: note.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  }\n  _s(Edit, \"caYE6rJ0avzAyhgyNjcsfS318uE=\", false, function () {\n    return [useOutletContext, useParams];\n  });\n}\n_c = Edit;\nexport default Edit;\nvar _c;\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"names":["useEffect","useState","useOutletContext","useParams","DateTimeP","ReactQuill","jsxDEV","_jsxDEV","Fragment","_Fragment","Edit","_s","$RefreshSig$","onDeleteNote","getActiveNote","notes","id","note","setNote","find","editMode","setEditMode","JSON","parse","localStorage","getItem","index","findIndex","n","handleContentChange","content","lastModified","Date","toLocaleString","handleSave","push","setItem","stringify","children","className","type","value","title","onChange","handleTitleChange","fileName","_jsxFileName","lineNumber","columnNumber","onClick","window","location","pathname","split","theme","_c","$RefreshReg$"],"sources":["/Users/huiyingzhen/Desktop/ENSF 381/assignment-06-lotion-huiyingzhen/src/Edit.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useOutletContext, useParams } from \"react-router-dom\";\nimport DateTimeP from 'react-datetime-picker';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\nfunction Edit(){\n    function Edit(){\n        const [onDeleteNote, getActiveNote, notes] = useOutletContext(); \n        const { id } = useParams();\n        const[note, setNote] = useState(notes.find((note) => note.id === id));\n        const [editMode, setEditMode] = useState(true);\n    \n        useEffect(() => {\n            const notes = JSON.parse(localStorage.getItem(\"notes\")) || [];\n            const index = notes.findIndex((n) => n.id === id);\n            if(index >= 0){\n                setNote(notes[index]);\n            }\n        }, [id]);\n    \n        const handleContentChange = (content) => {\n            setNote({\n                ...note,\n                content,\n                lastModified: new Date().toLocaleString(),\n            });\n        };\n    \n        const handleSave = () => {\n            const notes = JSON.parse(localStorage.getItem(\"notes\")) || [];\n            const index = notes.findIndex((n) => n.id === note.id);\n            if(index >= 0){\n                notes[index] = note;\n            }else{\n                notes.push(note);\n            }\n            localStorage.setItem(\"notes\", JSON.stringify(notes));\n            setEditMode(true); // set editMode back to true after saving\n        }\n    \n        return(\n            <>\n            <div className=\"main-notes\">\n                <div className=\"main-header\">\n                    <div className=\"header-left\">\n                        {editMode ? (\n                            <>\n                                <div className=\"header-title\">\n                                    <input type=\"text\" value={note.title} onChange={handleTitleChange}></input>\n                                </div>\n                                <div>\n                                    <DateTimeP value={new Date()} onChange={() => {}}/>\n                                </div>\n                            </>\n                        ) : (\n                            <>\n                                <div className=\"header-title\">\n                                    <span>{note.title}</span>\n                                </div>\n                                <div>\n                                    <span>{new Date().toLocaleString()}</span>\n                                </div>\n                            </>\n                        )}\n                    </div>\n    \n                    <div className=\"header-right\">\n                        {editMode ? (\n                            <>\n                                <button className=\"header-buttons\" onClick={handleSave}>Save</button>\n                                <button className=\"header-buttons\" onClick={() => onDeleteNote(window.location.pathname.split('/')[2])}>Delete</button>\n                            </>\n                        ) : (\n                            <>\n                                <button className=\"header-buttons\" onClick={() => setEditMode(false)}>Edit</button>\n                                <button className=\"header-buttons\" onClick={() => onDeleteNote(window.location.pathname.split('/')[2])}>Delete</button>\n                            </>\n                        )}\n                    </div>\n                </div>\n    \n                {editMode ? (\n                    <div className=\"main-quill\">\n                        <ReactQuill theme=\"snow\" value={note.content} onChange={handleContentChange}/>\n                    </div>\n                ) : (\n                    <div className=\"main-quill\">\n                        <span>{note.content}</span>\n                    </div>\n                )}\n            </div>\n            </>\n        )\n    }\n}\n    \n    export default Edit;\n    \n\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,gBAAgB,EAAEC,SAAS,QAAQ,kBAAkB;AAC9D,OAAOC,SAAS,MAAM,uBAAuB;AAC7C,OAAOC,UAAU,MAAM,aAAa;AACpC,OAAO,iCAAiC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEzC,SAASC,IAAIA,CAAA,EAAE;EAAA,IAAAC,EAAA,GAAAC,YAAA;EACX,SAASF,IAAIA,CAAA,EAAE;IAAAC,EAAA;IACX,MAAM,CAACE,YAAY,EAAEC,aAAa,EAAEC,KAAK,CAAC,GAAGb,gBAAgB,EAAE;IAC/D,MAAM;MAAEc;IAAG,CAAC,GAAGb,SAAS,EAAE;IAC1B,MAAK,CAACc,IAAI,EAAEC,OAAO,CAAC,GAAGjB,QAAQ,CAACc,KAAK,CAACI,IAAI,CAAEF,IAAI,IAAKA,IAAI,CAACD,EAAE,KAAKA,EAAE,CAAC,CAAC;IACrE,MAAM,CAACI,QAAQ,EAAEC,WAAW,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;IAE9CD,SAAS,CAAC,MAAM;MACZ,MAAMe,KAAK,GAAGO,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE;MAC7D,MAAMC,KAAK,GAAGX,KAAK,CAACY,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACZ,EAAE,KAAKA,EAAE,CAAC;MACjD,IAAGU,KAAK,IAAI,CAAC,EAAC;QACVR,OAAO,CAACH,KAAK,CAACW,KAAK,CAAC,CAAC;MACzB;IACJ,CAAC,EAAE,CAACV,EAAE,CAAC,CAAC;IAER,MAAMa,mBAAmB,GAAIC,OAAO,IAAK;MACrCZ,OAAO,CAAC;QACJ,GAAGD,IAAI;QACPa,OAAO;QACPC,YAAY,EAAE,IAAIC,IAAI,EAAE,CAACC,cAAc;MAC3C,CAAC,CAAC;IACN,CAAC;IAED,MAAMC,UAAU,GAAGA,CAAA,KAAM;MACrB,MAAMnB,KAAK,GAAGO,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE;MAC7D,MAAMC,KAAK,GAAGX,KAAK,CAACY,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACZ,EAAE,KAAKC,IAAI,CAACD,EAAE,CAAC;MACtD,IAAGU,KAAK,IAAI,CAAC,EAAC;QACVX,KAAK,CAACW,KAAK,CAAC,GAAGT,IAAI;MACvB,CAAC,MAAI;QACDF,KAAK,CAACoB,IAAI,CAAClB,IAAI,CAAC;MACpB;MACAO,YAAY,CAACY,OAAO,CAAC,OAAO,EAAEd,IAAI,CAACe,SAAS,CAACtB,KAAK,CAAC,CAAC;MACpDM,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;IACvB,CAAC;;IAED,oBACId,OAAA,CAAAE,SAAA;MAAA6B,QAAA,eACA/B,OAAA;QAAKgC,SAAS,EAAC,YAAY;QAAAD,QAAA,gBACvB/B,OAAA;UAAKgC,SAAS,EAAC,aAAa;UAAAD,QAAA,gBACxB/B,OAAA;YAAKgC,SAAS,EAAC,aAAa;YAAAD,QAAA,EACvBlB,QAAQ,gBACLb,OAAA,CAAAE,SAAA;cAAA6B,QAAA,gBACI/B,OAAA;gBAAKgC,SAAS,EAAC,cAAc;gBAAAD,QAAA,eACzB/B,OAAA;kBAAOiC,IAAI,EAAC,MAAM;kBAACC,KAAK,EAAExB,IAAI,CAACyB,KAAM;kBAACC,QAAQ,EAAEC;gBAAkB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA;cAAS;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QACzE,eACNzC,OAAA;gBAAA+B,QAAA,eACI/B,OAAA,CAACH,SAAS;kBAACqC,KAAK,EAAE,IAAIT,IAAI,EAAG;kBAACW,QAAQ,EAAEA,CAAA,KAAM,CAAC;gBAAE;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA;cAAE;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QACjD;YAAA,gBACP,gBAEHzC,OAAA,CAAAE,SAAA;cAAA6B,QAAA,gBACI/B,OAAA;gBAAKgC,SAAS,EAAC,cAAc;gBAAAD,QAAA,eACzB/B,OAAA;kBAAA+B,QAAA,EAAOrB,IAAI,CAACyB;gBAAK;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA;cAAQ;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QACvB,eACNzC,OAAA;gBAAA+B,QAAA,eACI/B,OAAA;kBAAA+B,QAAA,EAAO,IAAIN,IAAI,EAAE,CAACC,cAAc;gBAAE;kBAAAY,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA;cAAQ;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QACxC;YAAA;UAEb;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QACC,eAENzC,OAAA;YAAKgC,SAAS,EAAC,cAAc;YAAAD,QAAA,EACxBlB,QAAQ,gBACLb,OAAA,CAAAE,SAAA;cAAA6B,QAAA,gBACI/B,OAAA;gBAAQgC,SAAS,EAAC,gBAAgB;gBAACU,OAAO,EAAEf,UAAW;gBAAAI,QAAA,EAAC;cAAI;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAAS,eACrEzC,OAAA;gBAAQgC,SAAS,EAAC,gBAAgB;gBAACU,OAAO,EAAEA,CAAA,KAAMpC,YAAY,CAACqC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAE;gBAAAf,QAAA,EAAC;cAAM;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAAS;YAAA,gBACxH,gBAEHzC,OAAA,CAAAE,SAAA;cAAA6B,QAAA,gBACI/B,OAAA;gBAAQgC,SAAS,EAAC,gBAAgB;gBAACU,OAAO,EAAEA,CAAA,KAAM5B,WAAW,CAAC,KAAK,CAAE;gBAAAiB,QAAA,EAAC;cAAI;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAAS,eACnFzC,OAAA;gBAAQgC,SAAS,EAAC,gBAAgB;gBAACU,OAAO,EAAEA,CAAA,KAAMpC,YAAY,CAACqC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAE;gBAAAf,QAAA,EAAC;cAAM;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAAS;YAAA;UAE9H;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QACC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACJ,EAEL5B,QAAQ,gBACLb,OAAA;UAAKgC,SAAS,EAAC,YAAY;UAAAD,QAAA,eACvB/B,OAAA,CAACF,UAAU;YAACiD,KAAK,EAAC,MAAM;YAACb,KAAK,EAAExB,IAAI,CAACa,OAAQ;YAACa,QAAQ,EAAEd;UAAoB;YAAAgB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAE;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAC5E,gBAENzC,OAAA;UAAKgC,SAAS,EAAC,YAAY;UAAAD,QAAA,eACvB/B,OAAA;YAAA+B,QAAA,EAAOrB,IAAI,CAACa;UAAO;YAAAe,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAQ;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAElC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IACC,iBACH;EAEX;EAACrC,EAAA,CAvFQD,IAAI;IAAA,QACoCR,gBAAgB,EAC9CC,SAAS;EAAA;AAsFhC;AAACoD,EAAA,GAzFQ7C,IAAI;AA2FT,eAAeA,IAAI;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}